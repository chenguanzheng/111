<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		用户名：<input type="text"  id="user"  />
		<br />
		年龄：<input type="text"  id="age" />
		<button id="btn">请求</button>
		
	</body>
	<script type="text/javascript">
			var btn=document.getElementById("btn");
			btn.onclick=function(){
				
				var userval=document.getElementById("user").value;
				
				var ageval=document.getElementById('age').value;
			
			
//			1.创建对象
         var xhr=null;
         try{
         	xhr=new XMLHttpRequest();
         }catch(e){
         	xhr=new ActiveXObject("Microsoft.XMLHTTP");
         }
//       2.open方法open(method,action,async)
            //method---提交方式--与表单相同
            //action--提交地址
            //是否异步  true--异步  false同步
            //异步--与其他代码一起执行
//          get---地址栏传参
        xhr.open("get","links/1.get.php?username="+userval+"&age="+ageval,true);
//      3.发送请求
         xhr.send();
         
//       4.服务器返回数据
//       if()onreadystatechange---准备状态改变事件
        xhr.onreadystatechange=function(){
        	// status--服务器（请求资源）的状态
//      	200--请求成功
//          404--资源未找到
//          500---服务器故障
             //readystate
//           0(初始化)还没调用open方法
//           1(载入) 已调用send方法,正在发送请求
//           2(载入完成) send方法完成,已收到全部响应内容
//           3(解析) 正在解析响应内容
//           4(完成) 响应内容解析完成,可以在客户端调用了
        	if(xhr.status==200){
        		if(xhr.readyState==4){
//      			数据
//                 xhr.responseText--后台返回的数据
//                 responseXML---返回XML形式的内容
                document.write(xhr.responseText);
        		}
        	}
        }
}
		</script>
</html>
