<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{margin: 0; padding: 0;}
			#content h2{text-align: center;}
			#content div{
				text-align:center;
				margin-top: 20px;
				}
			#content div span{
				color: red;
			}
			#content div input{
				border:  1px solid black;
				width: 550px;
				height: 34px;
				line-height: 34px;
				font-size: 18px;
			}
			#btn{
			  background: #3498db;
			  width: 100px;
  			  line-height: 34px;
  			  text-align: center;
  			  color: white;
  			  border: none;
  			  cursor: pointer;
			}
			input+span{
				color: red;
			}
			
		</style>
	</head>
	<body>
			<!--<label for=""></label> 表单控件的标题-->
		<div id="content">
			<!--return false 组织默认事件-->
			<form   onsubmit="return false" >
				<h2>用户注册</h2>
				<div><label for=""><span>*</span>昵称：</label><input type="text" placeholder="只能包含中文，英文数字下划线" name=""   id="user" value=""   /><span></span></div>
				<div><label for=""><span>*</span>手机：</label><input type="text" placeholder="输入手机号" name="" id="phone" value=""   /><span></span></div>
				<div><label for=""><span>*</span>邮箱：</label><input type="text"  name="" id="email" value=""   /><span></span></div>
				<div><label for=""><span>*</span>身份证：</label><input type="text"  name="" id="personId" value=""  /><span></span></div>
				<div><label for=""><span>*</span>毕业院校：</label><input type="text"  name="" id="school" value=""  /><span></span></div>
				<div><button id="btn">注册</button></div>
			</form>
		</div>
	</body>
	<script type="text/javascript">
			var user=document.getElementById("user");
		
			user.onblur=function(){
					var userReg=/^[a-z]{3,8}$/;	
					if(!userReg.test(this.value)){
						//下一个兄弟元素
						this.nextElementSibling.innerHTML="用户名式不正确";
					
					}else{
							this.nextElementSibling.innerHTML="√";
					
					}
			}
			var phone=document.getElementById("phone");
			phone.onblur=function(){
				var phoneReg=/^1[3|5|8]\d{9}$/;
				if(!phoneReg.test(this.value)){
					this.nextElementSibling.innerHTML="手机格式不正确";
				}else{
					this.nextElementSibling.innerHTML="√";
				}
			}
			var email=document.getElementById("email");
			email.onblur=function(){
				var eReg=/^\w+@[a-z0-9]+(\.[a-z]+){1,3}$/
				if(!eReg.test(this.value)){
					this.nextElementSibling.innerHTML="邮箱格式不正确";
				}else{
					this.nextElementSibling.innerHTML="√";
				}
			}
			var personId=document.getElementById("personId");
			
			personId.onblur=function(){
				var reg4=/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2})$/;
				
				if(!reg4.test(this.value)){
					this.nextElementSibling.innerHTML="身份证格式不正确";
				}else{
					this.nextElementSibling.innerHTML="√";
				}
				
			}
			
			var school=document.getElementById("school");
			school.onblur=function(){
				var sreg=/^[\u4e00-\u9fa5]{4,8}$/
				if(!sreg.test(this.value)){
					this.nextElementSibling.innerHTML="学校格式不正确";
				}else{
					this.nextElementSibling.innerHTML="√";
				}
			
			}
			var btn=document.getElementById("btn");
			
			
//			点击注册 所有span内都显示√可以提交 --否则不能提交
			var  spans=document.querySelectorAll("input+span");
			
			btn.onclick=function(){
				var x=true;
				for(var i=0;i<spans.length;i++){
					if(spans[i].innerHTML!="√"){
						x=false;
					}
				}
				if(x){
					alert("注册成功");
				}else{
					alert("请正确填写信息");
				}
				
			}
			
		
	</script>
</html>
